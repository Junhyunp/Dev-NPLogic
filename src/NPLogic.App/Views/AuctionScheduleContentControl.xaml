<UserControl x:Class="NPLogic.Views.AuctionScheduleContentControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:NPLogic.Views"
             mc:Ignorable="d" 
             d:DesignHeight="1200" d:DesignWidth="1400">
    
    <UserControl.Resources>
        <!-- 섹션 헤더 스타일 -->
        <Style x:Key="SectionHeaderStyle" TargetType="TextBlock">
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryBrush}"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
        </Style>
        
        <!-- 라벨 스타일 -->
        <Style x:Key="LabelStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Foreground" Value="{StaticResource TextSecondaryBrush}"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        
        <!-- 값 스타일 -->
        <Style x:Key="ValueStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        
        <!-- 금액 스타일 -->
        <Style x:Key="AmountStyle" TargetType="TextBlock" BasedOn="{StaticResource ValueStyle}">
            <Setter Property="HorizontalAlignment" Value="Right"/>
        </Style>
        
        <!-- 테이블 셀 Border 스타일 -->
        <Style x:Key="TableCellStyle" TargetType="Border">
            <Setter Property="BorderBrush" Value="{StaticResource TableBorderBrush}"/>
            <Setter Property="BorderThickness" Value="0,0,1,1"/>
            <Setter Property="Padding" Value="6,4"/>
            <Setter Property="Background" Value="Transparent"/>
        </Style>
        
        <!-- 테이블 헤더 셀 스타일 -->
        <Style x:Key="TableHeaderCellStyle" TargetType="Border" BasedOn="{StaticResource TableCellStyle}">
            <Setter Property="Background" Value="#E8E8E8"/>
        </Style>
        
        <!-- 입력 가능 셀 스타일 (노란색 배경) -->
        <Style x:Key="InputCellStyle" TargetType="Border" BasedOn="{StaticResource TableCellStyle}">
            <Setter Property="Background" Value="#FFFDE7"/>
        </Style>
        
        <!-- 결과 셀 스타일 (연한 파란색) -->
        <Style x:Key="ResultCellStyle" TargetType="Border" BasedOn="{StaticResource TableCellStyle}">
            <Setter Property="Background" Value="#E3F2FD"/>
        </Style>
        
        <!-- 투명 TextBox 스타일 -->
        <Style x:Key="TransparentTextBoxStyle" TargetType="TextBox">
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
    </UserControl.Resources>
    
    <Grid Margin="0,12,0,0" MinWidth="1300">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- ========== 1. 평가결과 + 구분별 감정평가금액 (상단 좌우 배치) ========== -->
        <Grid Grid.Row="0" Margin="0,0,0,12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="12"/>
                <ColumnDefinition Width="350"/>
            </Grid.ColumnDefinitions>
            
            <!-- 평가결과 테이블 -->
            <Border Grid.Column="0" Background="{StaticResource SurfaceColor}" CornerRadius="4" Padding="12">
                <StackPanel>
                    <TextBlock Text="평가결과" Style="{StaticResource SectionHeaderStyle}"/>
                    <Border BorderBrush="{StaticResource TableBorderBrush}" BorderThickness="1,1,0,0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="80"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="70"/>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <!-- 헤더 -->
                            <Border Grid.Row="0" Grid.Column="0" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="구분" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            <Border Grid.Row="0" Grid.Column="1" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="낙찰가액" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            <Border Grid.Row="0" Grid.Column="2" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="낙찰가율" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            <Border Grid.Row="0" Grid.Column="3" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="토지평당낙찰가" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            <Border Grid.Row="0" Grid.Column="4" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="건물평당낙찰가" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            <Border Grid.Row="0" Grid.Column="5" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="평가 사유" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            
                            <!-- 시나리오 1 -->
                            <Border Grid.Row="1" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="시나리오 1" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            <Border Grid.Row="1" Grid.Column="1" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding Scenario1WinningBid, StringFormat=N0, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                            </Border>
                            <Border Grid.Row="1" Grid.Column="2" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario1BidRate, StringFormat={}{0:F1}%}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="1" Grid.Column="3" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario1LandPricePerPyeong, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="1" Grid.Column="4" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario1BuildingPricePerPyeong, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="1" Grid.Column="5" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding Scenario1EvalReason, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}"/>
                            </Border>
                            
                            <!-- 시나리오 2 -->
                            <Border Grid.Row="2" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="시나리오 2" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            <Border Grid.Row="2" Grid.Column="1" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding Scenario2WinningBid, StringFormat=N0, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                            </Border>
                            <Border Grid.Row="2" Grid.Column="2" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario2BidRate, StringFormat={}{0:F1}%}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="2" Grid.Column="3" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario2LandPricePerPyeong, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="2" Grid.Column="4" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario2BuildingPricePerPyeong, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="2" Grid.Column="5" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding Scenario2EvalReason, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}"/>
                            </Border>
                        </Grid>
                    </Border>
                </StackPanel>
            </Border>
            
            <!-- 구분별 감정평가금액 테이블 -->
            <Border Grid.Column="2" Background="{StaticResource SurfaceColor}" CornerRadius="4" Padding="12">
                <StackPanel>
                    <TextBlock Text="구분별 감정평가금액" Style="{StaticResource SectionHeaderStyle}"/>
                    <Border BorderBrush="{StaticResource TableBorderBrush}" BorderThickness="1,1,0,0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="70"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <!-- 헤더 -->
                            <Border Grid.Row="0" Grid.Column="0" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="구분" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            <Border Grid.Row="0" Grid.Column="1" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="감정평가금액" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            <Border Grid.Row="0" Grid.Column="2" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="1안배당가능재원(AK)" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center" FontSize="10"/>
                            </Border>
                            <Border Grid.Row="0" Grid.Column="3" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="2안배당가능재원(AL)" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center" FontSize="10"/>
                            </Border>
                            
                            <!-- 토지 -->
                            <Border Grid.Row="1" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="토지" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="1" Grid.Column="1" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding LandAppraisalValue, StringFormat=N0, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                            </Border>
                            <Border Grid.Row="1" Grid.Column="2" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding LandDistributableScenario1, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="1" Grid.Column="3" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding LandDistributableScenario2, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            
                            <!-- 건물 -->
                            <Border Grid.Row="2" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="건물" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="2" Grid.Column="1" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding BuildingAppraisalValue, StringFormat=N0, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                            </Border>
                            <Border Grid.Row="2" Grid.Column="2" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding BuildingDistributableScenario1, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="2" Grid.Column="3" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding BuildingDistributableScenario2, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            
                            <!-- 기계 -->
                            <Border Grid.Row="3" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="기계" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="3" Grid.Column="1" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding MachineryAppraisalValue, StringFormat=N0, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                            </Border>
                            <Border Grid.Row="3" Grid.Column="2" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding MachineryDistributableScenario1, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="3" Grid.Column="3" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding MachineryDistributableScenario2, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            
                            <!-- 타행선순위 -->
                            <Border Grid.Row="4" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="타행선순위" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="4" Grid.Column="1" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding OtherBankSeniorValue, StringFormat=N0, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                            </Border>
                            <Border Grid.Row="4" Grid.Column="2" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding OtherBankDistributableScenario1, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="4" Grid.Column="3" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding OtherBankDistributableScenario2, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            
                            <!-- Total -->
                            <Border Grid.Row="5" Grid.Column="0" Style="{StaticResource ResultCellStyle}">
                                <TextBlock Text="Total" Style="{StaticResource LabelStyle}" FontWeight="SemiBold"/>
                            </Border>
                            <Border Grid.Row="5" Grid.Column="1" Style="{StaticResource ResultCellStyle}">
                                <TextBlock Text="{Binding TotalAppraisalValue, StringFormat=N0}" Style="{StaticResource AmountStyle}" FontWeight="SemiBold"/>
                            </Border>
                            <Border Grid.Row="5" Grid.Column="2" Style="{StaticResource ResultCellStyle}">
                                <TextBlock Text="{Binding TotalDistributableScenario1, StringFormat=N0}" Style="{StaticResource AmountStyle}" FontWeight="SemiBold"/>
                            </Border>
                            <Border Grid.Row="5" Grid.Column="3" Style="{StaticResource ResultCellStyle}">
                                <TextBlock Text="{Binding TotalDistributableScenario2, StringFormat=N0}" Style="{StaticResource AmountStyle}" FontWeight="SemiBold"/>
                            </Border>
                        </Grid>
                    </Border>
                </StackPanel>
            </Border>
        </Grid>
        
        <!-- ========== 2. 경매일정 섹션 ========== -->
        <Border Grid.Row="1" Background="{StaticResource SurfaceColor}" CornerRadius="4" Padding="12" Margin="0,0,0,12">
            <StackPanel>
                <!-- 경매/공매 선택 + 경매신청여부 + 경매신청금액 -->
                <Border BorderBrush="{StaticResource TableBorderBrush}" BorderThickness="1,1,0,0" Margin="0,0,0,8">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="80"/>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="80"/>
                            <ColumnDefinition Width="180"/>
                            <ColumnDefinition Width="80"/>
                            <ColumnDefinition Width="150"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- 경매, 공매선택 -->
                        <Border Grid.Column="0" Style="{StaticResource TableHeaderCellStyle}">
                            <TextBlock Text="경,공매선택" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                        </Border>
                        <Border Grid.Column="1" Style="{StaticResource InputCellStyle}">
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                <RadioButton Content="경" GroupName="AuctionType" IsChecked="{Binding IsAuction, Mode=TwoWay}" Margin="0,0,8,0"/>
                                <RadioButton Content="공" GroupName="AuctionType" IsChecked="{Binding IsPublicSale, Mode=TwoWay}"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- 경매신청여부 -->
                        <Border Grid.Column="2" Style="{StaticResource TableHeaderCellStyle}">
                            <TextBlock Text="경매신청여부" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                        </Border>
                        <Border Grid.Column="3" Style="{StaticResource InputCellStyle}">
                            <ComboBox SelectedValue="{Binding AuctionRequestType}" BorderThickness="0" HorizontalAlignment="Stretch">
                                <ComboBoxItem Content="경매개시예정" Tag="*1"/>
                                <ComboBoxItem Content="경매개시결정" Tag="*2"/>
                                <ComboBoxItem Content="3자경매신청" Tag="*3"/>
                                <ComboBoxItem Content="중복경매신청" Tag="*4"/>
                            </ComboBox>
                        </Border>
                        
                        <!-- 경매신청금액 -->
                        <Border Grid.Column="4" Style="{StaticResource TableHeaderCellStyle}">
                            <TextBlock Text="경매신청금액" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                        </Border>
                        <Border Grid.Column="5" Style="{StaticResource InputCellStyle}">
                            <TextBox Text="{Binding AuctionRequestAmount, StringFormat=N0, UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                        </Border>
                    </Grid>
                </Border>
                
                <!-- 차주사항 테이블 (8컬럼 균일 구조) -->
                <Border BorderBrush="{StaticResource TableBorderBrush}" BorderThickness="1,1,0,0" Margin="0,0,0,12">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="70"/>
                            <ColumnDefinition Width="50"/>
                            <ColumnDefinition Width="80"/>
                            <ColumnDefinition Width="50"/>
                            <ColumnDefinition Width="80"/>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="80"/>
                            <ColumnDefinition Width="100"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Row 1: 차주사망 / 대위등기여부 / 대위등기주체 / 대위등기비용 -->
                        <Border Grid.Row="0" Grid.Column="0" Style="{StaticResource TableHeaderCellStyle}">
                            <TextBlock Text="차주사망" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                        </Border>
                        <Border Grid.Row="0" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                            <CheckBox IsChecked="{Binding IsBorrowerDeceased}" HorizontalAlignment="Center"/>
                        </Border>
                        <Border Grid.Row="0" Grid.Column="2" Style="{StaticResource TableHeaderCellStyle}">
                            <TextBlock Text="대위등기여부" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center" FontSize="10"/>
                        </Border>
                        <Border Grid.Row="0" Grid.Column="3" Style="{StaticResource TableCellStyle}">
                            <CheckBox IsChecked="{Binding HasSubrogationRegistration}" HorizontalAlignment="Center"/>
                        </Border>
                        <Border Grid.Row="0" Grid.Column="4" Style="{StaticResource TableHeaderCellStyle}">
                            <TextBlock Text="대위등기주체" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center" FontSize="10"/>
                        </Border>
                        <Border Grid.Row="0" Grid.Column="5" Style="{StaticResource InputCellStyle}">
                            <TextBox Text="{Binding SubrogationEntity, UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource TransparentTextBoxStyle}"/>
                        </Border>
                        <Border Grid.Row="0" Grid.Column="6" Style="{StaticResource TableHeaderCellStyle}">
                            <TextBlock Text="대위등기비용" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center" FontSize="10"/>
                        </Border>
                        <Border Grid.Row="0" Grid.Column="7" Style="{StaticResource InputCellStyle}">
                            <TextBox Text="{Binding SubrogationCost, StringFormat=N0, UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                        </Border>
                        
                        <!-- Row 2: 소유주전입 / 대출종류 / 주택담보대출 / 최종이수일 -->
                        <Border Grid.Row="1" Grid.Column="0" Style="{StaticResource TableHeaderCellStyle}">
                            <TextBlock Text="소유주전입" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center" FontSize="10"/>
                        </Border>
                        <Border Grid.Row="1" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                            <CheckBox IsChecked="{Binding IsOwnerMovedIn}" HorizontalAlignment="Center"/>
                        </Border>
                        <Border Grid.Row="1" Grid.Column="2" Style="{StaticResource TableHeaderCellStyle}">
                            <TextBlock Text="대출종류" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                        </Border>
                        <Border Grid.Row="1" Grid.Column="3" Style="{StaticResource InputCellStyle}">
                            <TextBox Text="{Binding LoanType, UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource TransparentTextBoxStyle}"/>
                        </Border>
                        <Border Grid.Row="1" Grid.Column="4" Style="{StaticResource TableHeaderCellStyle}">
                            <TextBlock Text="주택담보대출" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center" FontSize="10"/>
                        </Border>
                        <Border Grid.Row="1" Grid.Column="5" Style="{StaticResource TableCellStyle}">
                            <CheckBox IsChecked="{Binding IsHousingMortgageLoan}" HorizontalAlignment="Center"/>
                        </Border>
                        <Border Grid.Row="1" Grid.Column="6" Style="{StaticResource TableHeaderCellStyle}">
                            <TextBlock Text="최종이수일" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center" FontSize="10"/>
                        </Border>
                        <Border Grid.Row="1" Grid.Column="7" Style="{StaticResource InputCellStyle}">
                            <DatePicker SelectedDate="{Binding FinalCompletionDate}" BorderThickness="0"/>
                        </Border>
                        
                        <!-- Row 3: 개회 / 관할법원 / 저감율 -->
                        <Border Grid.Row="2" Grid.Column="0" Style="{StaticResource TableHeaderCellStyle}">
                            <TextBlock Text="개회" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                        </Border>
                        <Border Grid.Row="2" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                            <CheckBox IsChecked="{Binding IsSessionOpened}" HorizontalAlignment="Center"/>
                        </Border>
                        <Border Grid.Row="2" Grid.Column="2" Style="{StaticResource TableHeaderCellStyle}">
                            <TextBlock Text="관할법원" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                        </Border>
                        <Border Grid.Row="2" Grid.Column="3" Grid.ColumnSpan="3" Style="{StaticResource InputCellStyle}">
                            <TextBox Text="{Binding JurisdictionCourt, UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource TransparentTextBoxStyle}"/>
                        </Border>
                        <Border Grid.Row="2" Grid.Column="6" Style="{StaticResource TableHeaderCellStyle}">
                            <TextBlock Text="저감율" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                        </Border>
                        <Border Grid.Row="2" Grid.Column="7" Style="{StaticResource InputCellStyle}">
                            <TextBox Text="{Binding CourtDiscountRate, StringFormat={}{0:P0}, UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                        </Border>
                    </Grid>
                </Border>
                
                <!-- 시나리오1 / 시나리오2 병렬 테이블 -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="12"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- 시나리오1 테이블 -->
                    <Border Grid.Column="0" BorderBrush="{StaticResource TableBorderBrush}" BorderThickness="1,1,0,0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="130"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="80"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <!-- 헤더 -->
                            <Border Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="4" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="시나리오1" Style="{StaticResource LabelStyle}" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                            </Border>
                            
                            <!-- 서브 헤더 -->
                            <Border Grid.Row="1" Grid.Column="0" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="1" Grid.Column="1" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="금액" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            <Border Grid.Row="1" Grid.Column="2" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="일자" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            <Border Grid.Row="1" Grid.Column="3" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="Lead Time" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            
                            <!-- 경매신청 -->
                            <Border Grid.Row="2" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="경매신청" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="2" Grid.Column="1" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding Scenario1AuctionRequestAmount, StringFormat=N0, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                            </Border>
                            <Border Grid.Row="2" Grid.Column="2" Style="{StaticResource InputCellStyle}">
                                <DatePicker SelectedDate="{Binding Scenario1AuctionRequestDate}" BorderThickness="0"/>
                            </Border>
                            <Border Grid.Row="2" Grid.Column="3" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="0 개월" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            
                            <!-- 경매절차 -->
                            <Border Grid.Row="3" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="경매절차" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="3" Grid.Column="1" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="3" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="3" Grid.Column="3" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario1ProcedureLeadTime, StringFormat=누적: {0}개월}" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            
                            <!-- 예상 1회차 -->
                            <Border Grid.Row="4" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="예상 1회차" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="4" Grid.Column="1" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="4" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="4" Grid.Column="3" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding Scenario1FirstRoundMonths, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Center"/>
                            </Border>
                            
                            <!-- 법사가 -->
                            <Border Grid.Row="5" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="법사가" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="5" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario1LegalPrice, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="5" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="5" Grid.Column="3" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario1LegalPriceLeadTime, StringFormat=누적: {0}개월}" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            
                            <!-- 예상낙찰가 -->
                            <Border Grid.Row="6" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="예상낙찰가" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="6" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario1WinningBid, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="6" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="6" Grid.Column="3" Style="{StaticResource TableCellStyle}"/>
                            
                            <!-- 예상낙찰회차 -->
                            <Border Grid.Row="7" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="예상낙찰회차" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="7" Grid.Column="1" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding Scenario1ExpectedRound, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                            </Border>
                            <Border Grid.Row="7" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="7" Grid.Column="3" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="1 개월" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            
                            <!-- 최저 낙찰가율 -->
                            <Border Grid.Row="8" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="최저 낙찰가율" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="8" Grid.Column="1" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding Scenario1MinBidRate, StringFormat={}{0:F1}%, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                            </Border>
                            <Border Grid.Row="8" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="8" Grid.Column="3" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario1MinBidRateLeadTime, StringFormat=누적: {0}개월}" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            
                            <!-- 최저 법사가 -->
                            <Border Grid.Row="9" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="최저 법사가" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="9" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario1MinLegalPrice, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="9" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="9" Grid.Column="3" Style="{StaticResource TableCellStyle}"/>
                            
                            <!-- 경매수수료 및 제세 -->
                            <Border Grid.Row="10" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="경매수수료 및 제세" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="10" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario1AuctionFees, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="10" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="10" Grid.Column="3" Style="{StaticResource TableCellStyle}"/>
                            
                            <!-- 낙찰후 배당가능재원 -->
                            <Border Grid.Row="11" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="낙찰후 배당가능재원" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="11" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario1DistributableAfterSale, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="11" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="11" Grid.Column="3" Style="{StaticResource TableCellStyle}"/>
                            
                            <!-- 선순위금액 -->
                            <Border Grid.Row="12" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="선순위금액" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="12" Grid.Column="1" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding Scenario1SeniorDeduction, StringFormat=N0, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                            </Border>
                            <Border Grid.Row="12" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="12" Grid.Column="3" Style="{StaticResource TableCellStyle}"/>
                            
                            <!-- 선순위차감후 배당가능재원 -->
                            <Border Grid.Row="13" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="선순위차감후 배당가능재원" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="13" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario1DistributableAfterSenior, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="13" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="13" Grid.Column="3" Style="{StaticResource TableCellStyle}"/>
                            
                            <!-- Cap 관련 항목들 -->
                            <Border Grid.Row="14" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <StackPanel>
                                    <TextBlock Text="Loan cap" Style="{StaticResource LabelStyle}"/>
                                    <TextBlock Text="Loan cap 2" Style="{StaticResource LabelStyle}"/>
                                    <TextBlock Text="Mortgage cap" Style="{StaticResource LabelStyle}"/>
                                </StackPanel>
                            </Border>
                            <Border Grid.Row="14" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                                <StackPanel>
                                    <TextBlock Text="{Binding Scenario1LoanCap, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                                    <TextBlock Text="{Binding Scenario1LoanCap2, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                                    <TextBlock Text="{Binding Scenario1MortgageCap, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                                </StackPanel>
                            </Border>
                            <Border Grid.Row="14" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="14" Grid.Column="3" Style="{StaticResource TableCellStyle}"/>
                            
                            <!-- Cap 반영 배당액 / 예납경매수수료 회수 / 배당 회수가능액 -->
                            <Border Grid.Row="15" Grid.Column="0" Style="{StaticResource ResultCellStyle}">
                                <StackPanel>
                                    <TextBlock Text="Cap 반영 배당액" Style="{StaticResource LabelStyle}" FontWeight="SemiBold"/>
                                    <TextBlock Text="가산:예납경매수수료 회수" Style="{StaticResource LabelStyle}"/>
                                    <TextBlock Text="배당 회수가능액" Style="{StaticResource LabelStyle}" FontWeight="SemiBold" Foreground="{StaticResource PrimaryBrush}"/>
                                </StackPanel>
                            </Border>
                            <Border Grid.Row="15" Grid.Column="1" Style="{StaticResource ResultCellStyle}">
                                <StackPanel>
                                    <TextBlock Text="{Binding Scenario1CapAppliedDividend, StringFormat=N0}" Style="{StaticResource AmountStyle}" FontWeight="SemiBold"/>
                                    <TextBlock Text="{Binding Scenario1PrepaidFeeRecovery, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                                    <TextBlock Text="{Binding Scenario1DividendRecoverable, StringFormat=N0}" Style="{StaticResource AmountStyle}" FontWeight="SemiBold" Foreground="{StaticResource PrimaryBrush}"/>
                                </StackPanel>
                            </Border>
                            <Border Grid.Row="15" Grid.Column="2" Style="{StaticResource ResultCellStyle}"/>
                            <Border Grid.Row="15" Grid.Column="3" Style="{StaticResource ResultCellStyle}">
                                <StackPanel>
                                    <TextBlock Text="" Style="{StaticResource LabelStyle}"/>
                                    <TextBlock Text="0 개월" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                                    <TextBlock Text="{Binding Scenario1TotalLeadTime, StringFormat=누적: {0}개월}" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                        </Grid>
                    </Border>
                    
                    <!-- 시나리오2 테이블 -->
                    <Border Grid.Column="2" BorderBrush="{StaticResource TableBorderBrush}" BorderThickness="1,1,0,0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="130"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="80"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <!-- 헤더 -->
                            <Border Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="4" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="시나리오2" Style="{StaticResource LabelStyle}" FontWeight="SemiBold" HorizontalAlignment="Center"/>
                            </Border>
                            
                            <!-- 서브 헤더 -->
                            <Border Grid.Row="1" Grid.Column="0" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="1" Grid.Column="1" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="금액" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            <Border Grid.Row="1" Grid.Column="2" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="일자" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            <Border Grid.Row="1" Grid.Column="3" Style="{StaticResource TableHeaderCellStyle}">
                                <TextBlock Text="Lead Time" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            
                            <!-- 경매신청 -->
                            <Border Grid.Row="2" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="경매신청" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="2" Grid.Column="1" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding Scenario2AuctionRequestAmount, StringFormat=N0, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                            </Border>
                            <Border Grid.Row="2" Grid.Column="2" Style="{StaticResource InputCellStyle}">
                                <DatePicker SelectedDate="{Binding Scenario2AuctionRequestDate}" BorderThickness="0"/>
                            </Border>
                            <Border Grid.Row="2" Grid.Column="3" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="0 개월" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            
                            <!-- 경매절차 ~ 배당 회수가능액 (시나리오1과 동일 구조) -->
                            <Border Grid.Row="3" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="경매절차" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="3" Grid.Column="1" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="3" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="3" Grid.Column="3" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario2ProcedureLeadTime, StringFormat=누적: {0}개월}" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            
                            <Border Grid.Row="4" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="예상 1회차" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="4" Grid.Column="1" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="4" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="4" Grid.Column="3" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding Scenario2FirstRoundMonths, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Center"/>
                            </Border>
                            
                            <Border Grid.Row="5" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="법사가" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="5" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario2LegalPrice, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="5" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="5" Grid.Column="3" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario2LegalPriceLeadTime, StringFormat=누적: {0}개월}" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            
                            <Border Grid.Row="6" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="예상낙찰가" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="6" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario2WinningBid, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="6" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="6" Grid.Column="3" Style="{StaticResource TableCellStyle}"/>
                            
                            <Border Grid.Row="7" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="예상낙찰회차" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="7" Grid.Column="1" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding Scenario2ExpectedRound, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                            </Border>
                            <Border Grid.Row="7" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="7" Grid.Column="3" Style="{StaticResource TableCellStyle}"/>
                            
                            <Border Grid.Row="8" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="최저 낙찰가율" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="8" Grid.Column="1" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding Scenario2MinBidRate, StringFormat={}{0:F1}%, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                            </Border>
                            <Border Grid.Row="8" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="8" Grid.Column="3" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario2MinBidRateLeadTime, StringFormat=누적: {0}개월}" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                            </Border>
                            
                            <Border Grid.Row="9" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="최저 법사가" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="9" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario2MinLegalPrice, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="9" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="9" Grid.Column="3" Style="{StaticResource TableCellStyle}"/>
                            
                            <Border Grid.Row="10" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="경매수수료 및 제세" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="10" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario2AuctionFees, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="10" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="10" Grid.Column="3" Style="{StaticResource TableCellStyle}"/>
                            
                            <Border Grid.Row="11" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="낙찰후 배당가능재원" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="11" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario2DistributableAfterSale, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="11" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="11" Grid.Column="3" Style="{StaticResource TableCellStyle}"/>
                            
                            <Border Grid.Row="12" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="선순위금액" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="12" Grid.Column="1" Style="{StaticResource InputCellStyle}">
                                <TextBox Text="{Binding Scenario2SeniorDeduction, StringFormat=N0, UpdateSourceTrigger=PropertyChanged}"
                                         Style="{StaticResource TransparentTextBoxStyle}" HorizontalContentAlignment="Right"/>
                            </Border>
                            <Border Grid.Row="12" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="12" Grid.Column="3" Style="{StaticResource TableCellStyle}"/>
                            
                            <Border Grid.Row="13" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="선순위차감후 배당가능재원" Style="{StaticResource LabelStyle}"/>
                            </Border>
                            <Border Grid.Row="13" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                                <TextBlock Text="{Binding Scenario2DistributableAfterSenior, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                            </Border>
                            <Border Grid.Row="13" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="13" Grid.Column="3" Style="{StaticResource TableCellStyle}"/>
                            
                            <Border Grid.Row="14" Grid.Column="0" Style="{StaticResource TableCellStyle}">
                                <StackPanel>
                                    <TextBlock Text="Loan cap" Style="{StaticResource LabelStyle}"/>
                                    <TextBlock Text="Loan cap 2" Style="{StaticResource LabelStyle}"/>
                                    <TextBlock Text="Mortgage cap" Style="{StaticResource LabelStyle}"/>
                                </StackPanel>
                            </Border>
                            <Border Grid.Row="14" Grid.Column="1" Style="{StaticResource TableCellStyle}">
                                <StackPanel>
                                    <TextBlock Text="{Binding Scenario2LoanCap, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                                    <TextBlock Text="{Binding Scenario2LoanCap2, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                                    <TextBlock Text="{Binding Scenario2MortgageCap, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                                </StackPanel>
                            </Border>
                            <Border Grid.Row="14" Grid.Column="2" Style="{StaticResource TableCellStyle}"/>
                            <Border Grid.Row="14" Grid.Column="3" Style="{StaticResource TableCellStyle}"/>
                            
                            <Border Grid.Row="15" Grid.Column="0" Style="{StaticResource ResultCellStyle}">
                                <StackPanel>
                                    <TextBlock Text="Cap 반영 배당액" Style="{StaticResource LabelStyle}" FontWeight="SemiBold"/>
                                    <TextBlock Text="가산:예납경매수수료 회수" Style="{StaticResource LabelStyle}"/>
                                    <TextBlock Text="배당 회수가능액" Style="{StaticResource LabelStyle}" FontWeight="SemiBold" Foreground="{StaticResource PrimaryBrush}"/>
                                </StackPanel>
                            </Border>
                            <Border Grid.Row="15" Grid.Column="1" Style="{StaticResource ResultCellStyle}">
                                <StackPanel>
                                    <TextBlock Text="{Binding Scenario2CapAppliedDividend, StringFormat=N0}" Style="{StaticResource AmountStyle}" FontWeight="SemiBold"/>
                                    <TextBlock Text="{Binding Scenario2PrepaidFeeRecovery, StringFormat=N0}" Style="{StaticResource AmountStyle}"/>
                                    <TextBlock Text="{Binding Scenario2DividendRecoverable, StringFormat=N0}" Style="{StaticResource AmountStyle}" FontWeight="SemiBold" Foreground="{StaticResource PrimaryBrush}"/>
                                </StackPanel>
                            </Border>
                            <Border Grid.Row="15" Grid.Column="2" Style="{StaticResource ResultCellStyle}"/>
                            <Border Grid.Row="15" Grid.Column="3" Style="{StaticResource ResultCellStyle}">
                                <StackPanel>
                                    <TextBlock Text="" Style="{StaticResource LabelStyle}"/>
                                    <TextBlock Text="0 개월" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                                    <TextBlock Text="{Binding Scenario2TotalLeadTime, StringFormat=누적: {0}개월}" Style="{StaticResource LabelStyle}" HorizontalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                        </Grid>
                    </Border>
                </Grid>
            </StackPanel>
        </Border>
        
        <!-- ========== 3. 회수가능액 요약 ========== -->
        <Border Grid.Row="5" Background="{StaticResource PrimaryBrush}" CornerRadius="8" Padding="20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Column="0" 
                           Text="회수가능액" 
                           FontSize="16" 
                           FontWeight="SemiBold" 
                           Foreground="White"
                           VerticalAlignment="Center"/>
                
                <StackPanel Grid.Column="1" Margin="0,0,40,0">
                    <TextBlock Text="시나리오1 (하한)" Foreground="White" Opacity="0.8" FontSize="11"/>
                    <TextBlock Text="{Binding Scenario1DividendRecoverable, StringFormat=N0}" 
                               Foreground="White" 
                               FontSize="20" 
                               FontWeight="Bold"/>
                </StackPanel>
                
                <StackPanel Grid.Column="2">
                    <TextBlock Text="시나리오2 (상한)" Foreground="White" Opacity="0.8" FontSize="11"/>
                    <TextBlock Text="{Binding Scenario2DividendRecoverable, StringFormat=N0}" 
                               Foreground="White" 
                               FontSize="20" 
                               FontWeight="Bold"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>
