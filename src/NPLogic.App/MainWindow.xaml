<Window x:Class="NPLogic.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="NPLogic - 등기부등본 자동화 시스템" 
        Height="768" Width="1366"
        MinHeight="720" MinWidth="1280"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}">
    
    <!-- 피드백 반영: 테두리 제거 (깔끔한 UI) -->
    <Border BorderBrush="Transparent" 
            BorderThickness="0"
            Background="{StaticResource BackgroundBrush}">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>      <!-- Header -->
            <RowDefinition Height="Auto"/>    <!-- Menu Bar -->
            <RowDefinition Height="*"/>       <!-- Content -->
            <RowDefinition Height="30"/>      <!-- Status Bar -->
        </Grid.RowDefinitions>

        <!-- Header - 피드백 반영: 남색 배경 + 흰색 아이콘 -->
        <Border Grid.Row="0" 
                Background="{StaticResource HeaderNavyBrush}"
                BorderBrush="{StaticResource PrimaryDarkBrush}"
                BorderThickness="0,0,0,1">
            <Grid Margin="16,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Logo -->
                <StackPanel Grid.Column="0" 
                           Orientation="Horizontal"
                           VerticalAlignment="Center">
                    <Image Source="/Assets/img/white-logo.png"
                           Height="32"
                           Stretch="Uniform"
                           VerticalAlignment="Center"/>
                </StackPanel>

                <!-- User Info & Actions - 흰색 아이콘으로 변경 -->
                <StackPanel Grid.Column="2" 
                           Orientation="Horizontal" 
                           VerticalAlignment="Center">
                    <Button Style="{StaticResource IconButton}"
                            ToolTip="알림"
                            Margin="8,0"
                            Click="NotificationButton_Click">
                        <materialDesign:PackIcon Kind="Bell" 
                                               Width="20" Height="20"
                                               Foreground="White"/>
                    </Button>
                    <Button Style="{StaticResource IconButton}"
                            ToolTip="설정"
                            Margin="8,0"
                            Click="HeaderSettingsButton_Click">
                        <materialDesign:PackIcon Kind="Cog" 
                                               Width="20" Height="20"
                                               Foreground="White"/>
                    </Button>
                    <Separator Width="1" 
                              Height="24" 
                              Background="#4A6B8A"
                              Margin="8,0"/>
                    <Button Style="{StaticResource IconButton}"
                            ToolTip="사용자 정보"
                            Margin="8,0"
                            Click="UserInfoButton_Click">
                        <materialDesign:PackIcon Kind="Account" 
                                               Width="20" Height="20"
                                               Foreground="White"/>
                    </Button>
                    <Button Style="{StaticResource IconButton}"
                            ToolTip="로그아웃"
                            Margin="8,0"
                            Click="LogoutButton_Click">
                        <materialDesign:PackIcon Kind="Logout" 
                                               Width="20" Height="20"
                                               Foreground="White"/>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Top Menu Bar (엑셀 스타일 - 밝은 버전) -->
        <Border Grid.Row="1" 
                Background="{StaticResource BlueGray50Brush}"
                BorderBrush="{StaticResource BorderBrush}"
                BorderThickness="0,0,0,1"
                Padding="8,4">
            <ScrollViewer HorizontalScrollBarVisibility="Auto" 
                          VerticalScrollBarVisibility="Disabled">
                <StackPanel Orientation="Horizontal">
                    <!-- Dashboard -->
                    <Button x:Name="DashboardButton"
                            Click="DashboardButton_Click"
                            Style="{StaticResource TopMenuButton}">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="ViewDashboard" Width="16" Height="16" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                            <TextBlock Text="대시보드" Foreground="{StaticResource TextPrimaryBrush}" Margin="6,0,0,0" VerticalAlignment="Center" FontSize="{StaticResource FontSizeBody}"/>
                        </StackPanel>
                    </Button>

                    <Separator Width="1" Height="24" Background="{StaticResource DividerBrush}" Margin="8,0"/>

                    <!-- Property List - Phase 5.1: 피드백에 따라 숨김 처리 -->
                    <Button x:Name="PropertyListButton"
                            Click="PropertyListButton_Click"
                            Style="{StaticResource TopMenuButton}"
                            Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="ViewList" Width="16" Height="16" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                            <TextBlock Text="물건 목록" Foreground="{StaticResource TextPrimaryBrush}" Margin="6,0,0,0" VerticalAlignment="Center" FontSize="{StaticResource FontSizeBody}"/>
                        </StackPanel>
                    </Button>

                    <!-- Data Upload - 데이터 업로드 메뉴 -->
                    <Button x:Name="DataUploadButton"
                            Click="DataUploadButton_Click"
                            Style="{StaticResource TopMenuButton}"
                            Visibility="Visible">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Upload" Width="16" Height="16" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                            <TextBlock Text="업로드" Foreground="{StaticResource TextPrimaryBrush}" Margin="6,0,0,0" VerticalAlignment="Center" FontSize="{StaticResource FontSizeBody}"/>
                        </StackPanel>
                    </Button>

                    <!-- Statistics - Phase 6: 비핵심 내부 탭으로 대체되어 숨김 처리 -->
                    <Button x:Name="StatisticsButton"
                            Click="StatisticsButton_Click"
                            Style="{StaticResource TopMenuButton}"
                            Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="ChartBar" Width="16" Height="16" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                            <TextBlock Text="통계" Foreground="{StaticResource TextPrimaryBrush}" Margin="6,0,0,0" VerticalAlignment="Center" FontSize="{StaticResource FontSizeBody}"/>
                        </StackPanel>
                    </Button>

                    <!-- Phase 6: 차주/대출 메뉴 - 비핵심 내부 탭으로 대체되어 숨김 처리 -->
                    <Button x:Name="BorrowerOverviewButton"
                            Click="BorrowerOverviewButton_Click"
                            Style="{StaticResource TopMenuButton}"
                            Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="AccountGroup" Width="16" Height="16" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                            <TextBlock Text="차주 개요" Foreground="{StaticResource TextPrimaryBrush}" Margin="6,0,0,0" VerticalAlignment="Center" FontSize="{StaticResource FontSizeBody}"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="CollateralSummaryButton"
                            Click="CollateralSummaryButton_Click"
                            Style="{StaticResource TopMenuButton}"
                            Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Home" Width="16" Height="16" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                            <TextBlock Text="담보 총괄" Foreground="{StaticResource TextPrimaryBrush}" Margin="6,0,0,0" VerticalAlignment="Center" FontSize="{StaticResource FontSizeBody}"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="LoanDetailButton"
                            Click="LoanDetailButton_Click"
                            Style="{StaticResource TopMenuButton}"
                            Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="CreditCard" Width="16" Height="16" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                            <TextBlock Text="Loan 상세" Foreground="{StaticResource TextPrimaryBrush}" Margin="6,0,0,0" VerticalAlignment="Center" FontSize="{StaticResource FontSizeBody}"/>
                        </StackPanel>
                    </Button>

                    <!-- S-001, S-006: 현금흐름 - 피드백 반영: 중간 탭으로 이동, 상단에서 제거 -->
                    <Button x:Name="CashFlowSummaryButton"
                            Click="CashFlowSummaryButton_Click"
                            Style="{StaticResource TopMenuButton}"
                            Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="CashMultiple" Width="16" Height="16" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                            <TextBlock Text="현금흐름" Foreground="{StaticResource TextPrimaryBrush}" Margin="6,0,0,0" VerticalAlignment="Center" FontSize="{StaticResource FontSizeBody}"/>
                        </StackPanel>
                    </Button>

                    <!-- S-001: NPV비교 - 피드백 반영: 중간 탭으로 이동, 상단에서 제거 -->
                    <Button x:Name="XnpvComparisonButton"
                            Click="XnpvComparisonButton_Click"
                            Style="{StaticResource TopMenuButton}"
                            Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Compare" Width="16" Height="16" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                            <TextBlock Text="NPV비교" Foreground="{StaticResource TextPrimaryBrush}" Margin="6,0,0,0" VerticalAlignment="Center" FontSize="{StaticResource FontSizeBody}"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="RestructuringOverviewButton"
                            Click="RestructuringOverviewButton_Click"
                            Style="{StaticResource TopMenuButton}"
                            Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Gavel" Width="16" Height="16" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                            <TextBlock Text="회생 개요" Foreground="{StaticResource TextPrimaryBrush}" Margin="6,0,0,0" VerticalAlignment="Center" FontSize="{StaticResource FontSizeBody}"/>
                        </StackPanel>
                    </Button>

                    <!-- 관리 메뉴 -->
                    <!-- S-003: Tool Box를 상단 메뉴에서 제거 (하단 저장버튼 옆으로 이동) -->
                    <Button x:Name="ToolBoxButton"
                            Click="ToolBoxButton_Click"
                            Style="{StaticResource TopMenuButton}"
                            Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Toolbox" Width="16" Height="16" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                            <TextBlock Text="Tool Box" Foreground="{StaticResource TextPrimaryBrush}" Margin="6,0,0,0" VerticalAlignment="Center" FontSize="{StaticResource FontSizeBody}"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="UserManagementButton"
                            Click="UserManagementButton_Click"
                            Style="{StaticResource TopMenuButton}">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="AccountMultiple" Width="16" Height="16" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                            <TextBlock Text="사용자" Foreground="{StaticResource TextPrimaryBrush}" Margin="6,0,0,0" VerticalAlignment="Center" FontSize="{StaticResource FontSizeBody}"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="SettingsButton"
                            Click="SettingsButton_Click"
                            Style="{StaticResource TopMenuButton}">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Cog" Width="16" Height="16" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                            <TextBlock Text="설정" Foreground="{StaticResource TextPrimaryBrush}" Margin="6,0,0,0" VerticalAlignment="Center" FontSize="{StaticResource FontSizeBody}"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="AuditLogsButton"
                            Click="AuditLogsButton_Click"
                            Style="{StaticResource TopMenuButton}">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="History" Width="16" Height="16" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                            <TextBlock Text="이력" Foreground="{StaticResource TextPrimaryBrush}" Margin="6,0,0,0" VerticalAlignment="Center" FontSize="{StaticResource FontSizeBody}"/>
                        </StackPanel>
                    </Button>

                    <!-- 선순위, 경매, 공매 - 사용하지 않아 숨김 처리 -->
                    <Button x:Name="SeniorRightsButton"
                            Click="SeniorRightsButton_Click"
                            Style="{StaticResource TopMenuButton}"
                            Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="ListStatus" Width="16" Height="16" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                            <TextBlock Text="선순위" Foreground="{StaticResource TextPrimaryBrush}" Margin="6,0,0,0" VerticalAlignment="Center" FontSize="{StaticResource FontSizeBody}"/>
                        </StackPanel>
                    </Button>

                    <Button x:Name="PublicSaleScheduleButton"
                            Click="PublicSaleScheduleButton_Click"
                            Style="{StaticResource TopMenuButton}"
                            Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="CalendarCheck" Width="16" Height="16" Foreground="{StaticResource TextPrimaryBrush}" VerticalAlignment="Center"/>
                            <TextBlock Text="공매" Foreground="{StaticResource TextPrimaryBrush}" Margin="6,0,0,0" VerticalAlignment="Center" FontSize="{StaticResource FontSizeBody}"/>
                        </StackPanel>
                    </Button>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Main Content Area -->
        <Border Grid.Row="2" 
                Background="{StaticResource BackgroundBrush}">
            <Grid>
                <!-- Toast Container -->
                <Canvas x:Name="ToastContainer"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch"
                        IsHitTestVisible="False"
                        Panel.ZIndex="999"/>

                <!-- Content Frame (Views will be loaded here) -->
                <ContentControl x:Name="MainContentControl"/>
            </Grid>
        </Border>

        <!-- Status Bar -->
        <Border Grid.Row="3" 
                Background="{StaticResource BlueGray50Brush}"
                BorderBrush="{StaticResource BorderBrush}"
                BorderThickness="0,1,0,0"
                Padding="16,4">
            <Grid>
                <TextBlock Text="준비됨" 
                          Style="{StaticResource SmallTextStyle}"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Left"/>
                <TextBlock Text="v1.0.0" 
                          Style="{StaticResource SmallTextStyle}"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Right"/>
            </Grid>
        </Border>
    </Grid>
    </Border>
</Window>



