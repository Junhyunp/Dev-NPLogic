# 비핵심조서 평가 프로그램 - 개발 작업 상세 목록 (정리본)

## 📋 작업 현황 요약

| 우선순위 | 대분류 | 작업 수 | 상태 |
|----------|--------|---------|------|
| 🔴 높음 | 화면 구조 재배치 | 8개 | ✅ 완료 |
| 🔴 높음 | UI/UX 개선 | 6개 | ✅ 완료 |
| 🟡 중간 | 담보물건 기능 | 11개 | ✅ 완료 |
| 🟡 중간 | 선순위 기능 | 7개 | ✅ 완료 |
| 🟡 중간 | 평가 기능 | 5개 | ✅ 완료 |
| 🟢 낮음 | 기초데이터/설정 | 5개 | ⬜ |
| 🟢 낮음 | 후순위 기능 | 4개 | ⬜ |

---

## 🔴 우선순위 높음

### 1. 화면 구조 재배치

#### 1.1 상단/하단 분리 구조 확립
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| S-001 | 상단 메뉴 구성 | 홈, 등기부(OCR), 분석, 기초데이터, 마감, **현금흐름**, **MPV비교** 추가 | ✅ |
| S-002 | 하단 탭 구성 | 차주개요, 론, 담보물건, 선순위, 평가, 경공매일정 (현금흐름 제거) | ✅ |
| S-003 | 툴박스 위치 이동 | 상단 → 하단 (저장버튼 옆 또는 개별 섹션 옆) | ✅ |

**구현 참고사항**:
- 상단: 전체를 한번에 처리하는 기능 (업로드, 일괄처리, 집계)
- 하단: 개별 차주/물건 단위 작업 (평가, 분석)

#### 1.2 차주개요 + 담보총괄 통합
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| S-004 | 담보총괄 섹션 추가 | 차주개요 화면 하단에 담보총괄 테이블 추가 | ✅ |
| S-005 | 담보총괄 필드 | 담보종류, 토지면적, 건물면적, 기계기구, 공장저당, 공단 | ✅ |

**담보총괄 테이블 구조**:
| 담보종류 | 토지면적 | 건물면적 | 기계기구 | 공장저당 | 공단 |
|----------|----------|----------|----------|----------|------|
| (데이터) | (데이터) | (데이터) | (데이터) | (데이터) | (데이터) |

#### 1.3 현금흐름 상단 이동
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| S-006 | 현금흐름 탭 상단으로 | 하단 개별 → 상단 전체 집계 형태로 변경 | ✅ |
| S-007 | 차주 리스트 검색 | 현금흐름 화면에서 차주 전체 리스트 + 검색 기능 | ✅ |
| S-008 | 월별 표시 (120개월) | 액션데이트 기준 5년간 월별 현금흐름 표시 | ✅ |

**현금흐름 핵심 개념**:
- 현금흐름은 물건별이 아닌 "차주별로 1개만" 필요
- 물건1 + 물건2 + 물건3 → 차주별 현금흐름 1개로 합산
- 상단에서 전체 차주 리스트로 조회

---

### 2. UI/UX 개선

#### 2.1 자동저장 시스템
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| U-001 | 자동저장 구현 | 탭/화면 이동 시 자동 저장 (팝업 제거) | ✅ |
| U-002 | 되돌리기 기능 | 최대 3스텝 되돌리기 (Undo) | ✅ |

**자동저장 참고**:
- 변경: 자동저장 + 되돌리기 버튼 (1~3단계 정도)

#### 2.2 폰트/스타일 통일
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| U-003 | 폰트 크기 축소 | 본문 12pt로 통일 | ✅ |
| U-004 | 색상 톤 통일 | 전체 프로그램 색상 일치 (파란색/회색 통일) | ✅ |

**폰트 기준**:
- 본문: 12pt 정도
- 제목: 본문보다 크게, 볼드 처리

#### 2.3 중복 항목 제거
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| U-005 | 담보물건 중복 제거 | 데이터디스크 업로드 버튼, 기본정보, 중복 주소정보 삭제 | ✅ |
| U-006 | 등기부 중복 제거 | 주소 정보 중복 표시 제거 | ✅ |

#### 2.4 기초데이터/담보물건 화면 분리
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| U-007 | 기초데이터 화면 분리 | DashboardView "기초데이터" 탭용 별도 화면 구현 | ✅ |

**해결 방안**:
- "기초데이터" 탭: 프로그램 레벨 설정 화면으로 별도 구현 (법원 정보, 법률적용률 등)
- "담보물건" 탭: 기존 BasicDataTab.xaml 유지 (물건별 정보)

---

## 🟡 우선순위 중간

### 3. 담보물건 기능

#### 3.1 화면 순서 재배치
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| D-001 | 주소/면적 상단 이동 | 토지면적, 건물면적을 맨 위로 배치 | ✅ |
| D-002 | 등기부등본 정보 추가 | 주소 다음 위치에 등기부 요약 정보 표시 | ✅ |
| D-003 | 감정평가 정보 배치 | 등기부 다음 위치에 토지/건물/기계 요약 표시 | ✅ |

**담보물건 순서**:
1. 주소/면적 (한 줄)
2. 등기부등본 정보
3. 감정평가 정보
4. 지적도, 위치도, 로드뷰
5. 토지이용계획, 건축물대장
6. 등기부 요약 캡처

#### 3.2 지도/이미지 기능
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| D-004 | 지적도 추가 | 클릭 시 팝업으로 확대 가능 | ✅ |
| D-005 | 위치도 추가 | 클릭 시 팝업으로 확대 가능 | ✅ |
| D-006 | 로드뷰 추가 | | ✅ |
| D-007 | 토지이용계획 추가 | | ✅ |
| D-008 | 건축물대장 추가 | | ✅ |

#### 3.3 등기부 연동
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| D-009 | 등기부 요약 저장 | OCR 시 요약 부분 별도 저장/표시 | ✅ |
| D-010 | 등기부 일치 여부 | DD 주소와 등기부 주소 일치 확인 표시 | ✅ |

#### 3.4 담보물건 툴박스
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| D-011 | 직업별 감정평가 | 토지/건물/기계 세부 정보 하단 배치 | ✅ |

---

### 4. 선순위 기능

#### 4.1 기본 표시 항목
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| P-001 | 선순위 근저당 표시 | 등기부에서 순위별 정보 연동 | ✅ |
| P-002 | 유치권 표시 | | ✅ |
| P-003 | 선순위 소액보증금 표시 | | ✅ |
| P-004 | 선순위 합계 표시 | 예상낙찰가, 배당가능재원, 선순위금액, 차감배당가능재원, 롱캡 요약 합계 표시 | ✅ |

**선순위 합계 구성**:
| 예상 낙찰가 | 낙찰로 배당가능 재원 | 선순위 금액 | 선순위 차감 배당가능 재원 | 롱캡 |
|-------------|----------------------|-------------|---------------------------|------|

#### 4.2 당해세 처리
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| P-005 | etax korea 링크 연결 | 선순위 화면에서 사이트 바로가기 제공 | ✅ |
| P-006 | 당해세 입력란 | 직접 계산 후 입력 필드 제공 | ✅ |

#### 4.3 선순위 툴박스
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| P-007 | 주택/상가 임대차, 임금채권 | 클릭 시 세부 정보 입력창 활성화 | ✅ |

---

### 5. 평가 기능

#### 5.1 공통 요소
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| E-001 | 지도 팝업 확대 | 모든 평가 유형에서 지도 클릭 시 팝업 확대 | ✅ |
| E-002 | 시나리오별 결과 표시 | 모든 평가 화면 하단에 차주 단위 결과 테이블 표시 | ✅ |

**시나리오 결과 테이블**:
| 항목 | 물건1배당 | 물건2배당 | ... | 합계 |
|------|-----------|-----------|-----|------|
| 경매비용 | xxx | xxx | ... | xxx |
| 배당회수 | xxx | xxx | ... | xxx |
| 상계회수 | xxx | xxx | ... | xxx |
| 현금흐름 | xxx | xxx | ... | xxx |

#### 5.2 아파트 전용
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| E-003 | 실거래가 테이블 축소 | 화면 공간 최적화 | ✅ |
| E-004 | 시세 차트 추가 | KB부동산 시세보기 연결 | ✅ |

#### 5.3 사례 캡처
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| E-005 | 사례 캡처 표시 영역 | 물건과의 거리 정보 포함 | ✅ |

---

### 6. 경공매 일정
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| A-001 | 경매/공매 체크 | 경공매 구분 선택 기능 | ⬜ |
| A-002 | 대법원 경매 캡처 연동 | 사건내역, 기일내역, 문건송달내역 캡처 연동 | ⬜ |

---

## 🟢 우선순위 낮음

### 7. 기초데이터/설정
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| C-001 | 고유정보관리 | 법원별 정보 설정 | ⬜ |
| C-002 | 법률적용률 설정 | | ⬜ |
| C-003 | 주택 임대차 기준 | 연도/지역별 소액임차보증금 기준 관리 | ⬜ |
| C-004 | 상가 임대차 기준 | 연도/지역별 기준 관리 | ⬜ |
| C-005 | 경매비용 산정 데이터 | 법원별 경매비용 기초 데이터 관리 | ⬜ |

### 8. 후순위 기능 (추후 구현)
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| L-001 | 인터림 파일 업로드 | 상계회수 금액 자동 매핑 | ⬜ |
| L-002 | 당해세 자동계산 수식 | 주택/건축물/토지 구분 수식 적용 | ⬜ |
| L-003 | 소액임차보증금 자동 조회 | 근저당 설정일 기준 자동 계산 | ⬜ |
| L-004 | 화면공유(View) 기능 | 여러 컴퓨터 동시 화면 리뷰 지원 | ⬜ |

---

## 📌 QA 기능
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| Q-001 | QA 차주개요로 이동 | QA 섹션을 차주개요 화면에 배치 | ⬜ |
| Q-002 | 툴박스 QA 입력 | 각 화면 툴박스에서 QA 입력 기능 | ⬜ |
| Q-003 | QA 집계 기능 | 입력된 모든 QA가 차주개요에 자동 취합 | ⬜ |

---

## 🔍 검색 기능
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| F-001 | 필터 검색 구현 | 주요 조건별 필터링 기능 | ⬜ |

**검색 필터 항목**:
| 카테고리 | 필터 항목 |
|----------|-----------|
| 차주 상태 | 회생, 개인회생, 개회(면책), 사망, 차주거주 |
| 담보 유형 | 주택, 상가, 아파트, 공장 등 |
| 선순위 | 소유자 전입 여부 |

---

## 🧭 네비게이션/UX 개선
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| N-001 | 키보드 탐색 | 탭/화살표로 물건/차주 간 이동 | ⬜ |
| N-002 | 연속 작업 지원 | 동일 카테고리 내 다음 항목으로 빠른 이동 지원 | ⬜ |

---

## 📤 외부 연동
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| X-001 | etax korea 링크 | 당해세 계산 사이트 연결 | ⬜ |
| X-002 | 대법원 경매 링크 | 경매사건 검색 연결 | ⬜ |

---

## 📝 주요 비즈니스 용어
| 용어 | 설명 |
|------|------|
| DD | Data Disk, 은행 제공 채권 데이터 |
| 롱캡 (Long Cap) | 원금+이자+연체이자 합산 금액 |
| 컷오프 (Cut-off) | 채권 데이터 기준일 |
| 인터림 (Interim) | 컷오프 이후 딜 확정까지의 변동분 |
| 액션데이트 | 채권 양도 통지 완료 후 액션 가능 시점 |
| X NPV | 최초 확정 NPV |
| N NPV | 자료 추가 후 변경된 NPV |
| 롤업 | 가격 확정 및 보고 과정 |
| 교부청구 | 공공기관의 세금 우선 회수 청구 |
| 개회면 | 개인회생 면책 |

---

## ✅ 완료된 추가 작업 (헤더 수정)
| ID | 작업 | 상세 | 상태 |
|----|------|------|------|
| FIX-001 | 대시보드 "차주번호" → "사건번호" 수정 | 실제 사건번호 표시로 혼란 방지 | ✅ |
| FIX-002 | AdminHomeView 컬럼 헤더 수정 | "사건번호"로 명칭 변경 | ✅ |
| FIX-003 | PMHomeView 컬럼 헤더 수정 | "사건번호"로 명칭 변경 | ✅ |
| FIX-004 | EvaluatorHomeView 컬럼 헤더 수정 | "사건번호"로 명칭 변경 | ✅ |
| FIX-005 | RollupWindow 컬럼 헤더 수정 | "사건번호"로 명칭 변경 | ✅ |
| FIX-006 | Excel 내보내기 헤더 수정 | 내보내기 헤더 명칭 통일 | ✅ |

---

## 🚨 발견된 이슈
### 기초데이터/담보물건 화면 중복
- **현상**: DashboardView와 PropertyDetailView에서 동일한 화면 컴포넌트 사용 중
- **해결**: 기초데이터 탭은 전체 설정 화면으로, 담보물건 탭은 개별 상세 정보 화면으로 분리
